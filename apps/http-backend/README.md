# `http-backend` Application

This is the `http-backend` application, an Express.js server that provides the RESTful API for the BookMySportz platform. It handles core business logic, data persistence, and serves as the primary interface for frontend applications.

## üöÄ Getting Started

To run this application in development mode:

1.  Ensure you have completed the [monorepo's initial setup](../../README.md#getting-started), including starting Docker services and seeding the database.
2.  Navigate to the monorepo root and run:
    ```bash
    pnpm dev http-backend
    ```
    Alternatively, you can run `turbo dev` from the monorepo root to start all applications concurrently.

## ‚ú® Features

*   User authentication and authorization (JWT, OAuth2).
*   User and admin account management.
*   Venue management (CRUD operations).
*   Booking management (creation, updates, cancellations).
*   Payment processing integration.
*   Audit logging.

## üì¶ Dependencies

This application utilizes the following internal packages:

*   `@workspace/backend-common`: For common backend utilities, middleware, and services.
*   `@workspace/common`: For shared types, interfaces, and schemas.
*   `@workspace/db`: For database interactions via Prisma.
*   `@workspace/typescript-config`: For consistent TypeScript configurations.

Significant external dependencies include:

*   `express`: Fast, unopinionated, minimalist web framework for Node.js.
*   `prisma`: ORM for database access.
*   `jsonwebtoken`: For handling JSON Web Tokens.
*   `bcryptjs`: For password hashing.
*   `dotenv`: For loading environment variables.
*   `zod`: For schema validation.
*   `winston`: For logging.

## üõ†Ô∏è Scripts

*   `pnpm dev`: Starts the development server with `nodemon` for auto-reloading.
*   `pnpm build`: Compiles TypeScript to JavaScript.
*   `pnpm start`: Starts the compiled application in production mode.
*   `pnpm test`: Runs Jest tests.

## üìê Design Principles & Patterns

This backend adheres to a layered architecture, promoting separation of concerns:

*   **Controllers:** Handle incoming HTTP requests, validate input, and delegate to services.
*   **Services:** Contain the core business logic and orchestrate interactions with data access layers.
*   **Middleware:** Handle cross-cutting concerns like authentication, authorization, logging, and error handling.
*   **Data Access (Prisma):** Manages interactions with the PostgreSQL database.

Strong Low-Level Design (LLD) principles are applied, including:

*   **Dependency Inversion Principle (DIP):** High-level modules (e.g., services) depend on abstractions (interfaces/types) rather than concrete implementations (e.g., database clients).
*   **Single Responsibility Principle (SRP):** Each module, class, or function has one clear responsibility.
*   **Error Handling:** Centralized and robust error handling using custom error classes and middleware.
*   **Logging:** Comprehensive logging using Winston for debugging, auditing, and monitoring.

## üß™ Testing

Tests are written using Jest and `ts-jest`. To run tests:

```bash
pnpm test
```

Tests are located in the `__tests__` directory and are structured to mirror the application's module structure.

## üîë API Endpoints

(Consider adding a brief overview of key API endpoint groups here, or link to a more detailed API documentation generated by tools like Swagger/OpenAPI if available.)
